{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "DKS LANGUAGE",
  "fileTypes": [
    "txt"
  ],
  "patterns": [
    {
      "include": "#strings"
    },
    {
      "include": "#numbers"
    },
    {
      "include": "#comments"
    },
    {
      "include": "#players"
    },
    {
      "include": "#rooms"
    },
    {
      "include": "#creatures"
    },
    {
      "include": "#powers"
    },
    {
      "include": "#doors"
    },
    {
      "include": "#traps"
    },
    {
      "include": "#conditionals"
    },
    {
      "include": "#commands"
    }
  ],
  "repository": {
    "comments": {
      "begin": "(^[ \\t]+)*(?i)\\brem\\b",
      "end": "\\n",
      "name": "comment.line.dks"
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric",
          "match": "\\b[0-9]+\\b"
        }
      ]
    },
    "strings": {
      "name": "string.quoted.double.dks",
      "begin": "\"",
      "end": "\""
    },
    "players": {
      "patterns": [
        {
          "name": "constant.language",
          "match": "\\b(?i)(PLAYER[0-3]|ALL_PLAYERS|RED|BLUE|GREEN|YELLOW|WHITE|PLAYER_NEUTRAL|PLAYER_GOOD)\\b"
        }
      ]
    },
    "rooms": {
      "patterns": [
        {
          "name": "entity.name.type",
          "match": "\\b(?i)(ROOM|ENTRANCE|TREASURE|RESEARCH|PRISON|TORTURE|TRAINING|WORKSHOP|SCAVENGER|TEMPLE|GRAVEYARD|BARRACKS|GARDEN|LAIR|BRIDGE|GUARD_POST)\\b"
        }
      ]
    },
    "creatures": {
      "patterns": [
        {
          "name": "entity.name.type",
          "match": "\\b(?i)(WIZARD|BARBARIAN|ARCHER|MONK|DWARFA|KNIGHT|AVATAR|TUNNELLER|WITCH|GIANT|FAIRY|THIEF|SAMURAI|IMP|HORNY|SKELETON|TROLL|DRAGON|DEMONSPAWN|FLY|DARK_MISTRESS|SORCEROR|BILE_DEMON|BUG|VAMPIRE|SPIDER|HELL_HOUND|GHOST|TENTACLE|ORC|TIME_MAGE|DRUID)\\b"
        }
      ]
    },
    "powers": {
      "patterns": [
        {
          "name": "entity.name.type",
          "match": "\\b(?i)(POWER_HAND|POWER_POSSESS|POWER_SLAP|POWER_IMP|POWER_ARMAGEDDON|POWER_SIGHT|POWER_SPEED|POWER_OBEY|POWER_CALL_TO_ARMS|POWER_CONCEAL|POWER_HOLD_AUDIENCE|POWER_CAVE_IN|POWER_HEAL_CREATURE|POWER_LIGHTNING|POWER_PROTECT|POWER_CHICKEN|POWER_DISEASE|POWER_DESTROY_WALLS)\\b"
        }
      ]
    },
    "doors": {
      "patterns": [
        {
          "name": "entity.name.type",
          "match": "\\b(?i)(WOOD|BRACED|STEEL|MAGIC)\\b"
        }
      ]
    },
    "traps": {
      "patterns": [
        {
          "name": "entity.name.type",
          "match": "\\b(?i)(BOULDER|ALARM|POISON_GAS|LIGHTNING|WORD_OF_POWER|LAVA|TNT)\\b"
        }
      ]
    },
    "conditionals": {
      "patterns": [
        {
          "name": "keyword.control",
          "match": "^\\s*\\b(?i)(ENDIF|IF|IF_AVAILABLE|IF_CONTROLS|IF_ACTION_POINT|IF_SLAB_OWNER|IF_SLAB_TYPE|IF_ALLIED)\\b"
        }
      ]
    },
    "commands": {
      "patterns": [
        {
          "name": "entity.name.function",
          "match": "^[ \\t]*\\b(?i)(NEXT_COMMAND_REUSABLE|CREATE_PARTY|ADD_TO_PARTY|ADD_PARTY_TO_LEVEL|ADD_CREATURE_TO_LEVEL|MESSAGE|IF|ENDIF|SET_HATE|SET_GENERATE_SPEED|REM|START_MONEY|ROOM_AVAILABLE|CREATURE_AVAILABLE|MAGIC_AVAILABLE|TRAP_AVAILABLE|RESEARCH|COMPUTER_PLAYER|SET_TIMER|IF_ACTION_POINT|ADD_TUNNELLER_TO_LEVEL|WIN_GAME|LOSE_GAME|SET_FLAG|MAX_CREATURES|DOOR_AVAILABLE|DISPLAY_OBJECTIVE|DISPLAY_INFORMATION|ADD_TUNNELLER_PARTY_TO_LEVEL|ADD_CREATURE_TO_POOL|RESET_ACTION_POINT|SET_CREATURE_MAX_LEVEL|SET_MUSIC|TUTORIAL_FLASH_BUTTON|SET_CREATURE_STRENGTH|SET_CREATURE_HEALTH|SET_CREATURE_ARMOUR|SET_CREATURE_FEAR_WOUNDED|IF_AVAILABLE|SET_COMPUTER_GLOBALS|SET_COMPUTER_CHECKS|SET_COMPUTER_EVENT|SET_COMPUTER_PROCESS|ALLY_PLAYERS|DEAD_CREATURES_RETURN_TO_POOL|BONUS_LEVEL_TIME|QUICK_OBJECTIVE|QUICK_INFORMATION|QUICK_OBJECTIVE_WITH_POS|QUICK_INFORMATION_WITH_POS|DISPLAY_OBJECTIVE_WITH_POS|DISPLAY_INFORMATION_WITH_POS|PRINT|SWAP_CREATURE|CHANGE_SLAB_TYPE|CHANGE_SLAB_OWNER|IF_SLAB_TYPE|IF_SLAB_OWNER|SET_CREATURE_TENDENCIES|PLAY_MESSAGE|ADD_GOLD_TO_PLAYER|REVEAL_MAP_RECT|REVEAL_MAP_LOCATION|LEVEL_VERSION|RESEARCH_ORDER|KILL_CREATURE|SET_CREATURE_FEAR_STRONGER|IF_CONTROLS|ADD_TO_FLAG|SET_CAMPAIGN_FLAG|ADD_TO_CAMPAIGN_FLAG|EXPORT_VARIABLE|RUN_AFTER_VICTORY|LEVEL_UP_CREATURE|CHANGE_CREATURE_OWNER|SET_GAME_RULE|SET_TRAP_CONFIGURATION|SET_DOOR_CONFIGURATION|SET_OBJECT_CONFIGURATION|SET_CREATURE_CONFIGURATION|SET_CREATURE_PROPERTY|SET_CREATURE_FEARSOME_FACTOR|USE_POWER_ON_CREATURE|USE_POWER_AT_POS|USE_POWER|USE_POWER_AT_LOCATION|ADD_OBJECT_TO_LEVEL|USE_SPECIAL_INCREASE_LEVEL|USE_SPECIAL_MULTIPLY_CREATURES|USE_SPECIAL_MAKE_SAFE|USE_SPECIAL_LOCATE_HIDDEN_WORLD|CHANGE_CREATURES_ANNOYANCE|COMPUTER_DIG_TO_LOCATION|DELETE_FROM_PARTY|SET_SACRIFICE_RECIPE|REMOVE_SACRIFICE_RECIPE|SET_BOX_TOOLTIP|SET_BOX_TOOLTIP_ID|CREATE_EFFECTS_LINE|DISPLAY_MESSAGE|QUICK_MESSAGE|USE_SPELL_ON_CREATURE|SET_HEART_HEALTH|ADD_HEART_HEALTH|CREATURE_ENTRANCE_LEVEL|RANDOMISE_FLAG|COMPUTE_FLAG|CONCEAL_MAP_RECT|DISPLAY_TIMER|ADD_TO_TIMER|ADD_BONUS_TIME|DISPLAY_VARIABLE|DISPLAY_COUNTDOWN|HIDE_TIMER|HIDE_VARIABLE|CREATE_EFFECT|CREATE_EFFECT_AT_POS|HEART_LOST_QUICK_OBJECTIVE|HEART_LOST_OBJECTIVE|SET_DOOR|SET_CREATURE_INSTANCE|SET_HAND_RULE|MOVE_CREATURE|COUNT_CREATURES_AT_ACTION_POINT|SET_TEXTURE|HIDE_HERO_GATE|USE_SPELL_ON_PLAYERS_CREATURES|SET_ROOM_CONFIGURATION)\\b"
        }
      ]
    }
  },
  "scopeName": "source.dks"
}