---
- cmd: WIN_GAME()
  rootLvl: FORBID
  wins: true
  doc: |
    Tells the game that you have won the level.

    This command must be included in single player games to tell the player he has won. In multiplayer levels, it is not necessary. You should always use them with IF commands to make sure something happens to cause the game to end.

- cmd: LOSE_GAME()
  rootLvl: FORBID
  doc: |
    Tells the game you have lost the level.

    This command does not always need to be included as you will automatically lose the level if you Dungeon Heart is destroyed. You should include it if there is a strict goal the player needs to attain.

- cmd: SET_FLAG([player:PLAYER/ALL_PLAYERS],[flag:SETTABLE_VAR],[value:NUMBER])
  flagWriteAt: [1]
  doc: Sets up a flag that is assigned a number.

- cmd: SET_TIMER([player:PLAYER/ALL_PLAYERS],[timer:TIMER])
  timerWriteAt: [1]
  doc: Sets up a timer that increases by 1 every game turn from when it was triggered.

- cmd: IF([player:PLAYER/ALL_PLAYERS],[left B:READSET_VAR][operator:COMPARE_OPERATOR][right A:NUMBER/PLAYER/ALL_PLAYERS],[right B:READSET_VAR])
  opts: 1
  signChanges: [
      IF 3 IS NUMBER SET 4 VOID,
      IF 3 IS PLAYER SET 4 REQUIRED,
      IF 3 IS ALL_PLAYERS SET 4 REQUIRED,
      IF 1 EQ VIEW_TYPE SET 3 NUMBER/PLAYER/ALL_PLAYERS/VIEW_TYPE,
      IF 3 EQ VIEW_TYPE SET 4 VIEW_TYPE,
    ]
  flagReadAt: [1, 4]
  timerReadAt: [1, 4]
  condition: PUSH
  doc: This is used to test the differences between two values. If those two values agree with the comparison, the script will continue. If the two values do not agree with the comparison, the script will find the next ENDIF and continue from there.

- cmd: IF_AVAILABLE([player:PLAYER/ALL_PLAYERS],[left B:ROOM/POWER/TRAP/DOOR/CREATURE/AVAIL_VARS][operator:COMPARE_OPERATOR][right A:NUMBER/PLAYER/ALL_PLAYERS],[right B:ROOM/POWER/TRAP/DOOR/CREATURE/AVAIL_VARS])
  opts: 1
  signChanges: [
    IF 3 IS NUMBER SET 4 VOID,
    IF 3 IS PLAYER SET 4 REQUIRED,
    IF 3 IS ALL_PLAYERS SET 4 REQUIRED
  ]
  condition: PUSH
  doc: Allows you to ask whether something is available to that player. If it is not, then the answer will be 0. If it is then the answer will be 1.

- cmd: IF_ACTION_POINT([action point:ACTION_POINT],[player:PLAYER/ALL_PLAYERS])
  condition: PUSH
  apReadAt: 0
  doc: Detects whether an Action Point has been trigger by one of that players creatures. The Action point is only triggered once (unless you use the RESET_ACTION_POINT command) and you can only detect which player triggered it.

- cmd: ENDIF()
  condition: POP
  doc: This command must be placed at the end of all IF statements. This tells the IF command where to jump to when the comparisons in the statement are not met.

- cmd: RESET_ACTION_POINT([action point:ACTION_POINT],[player:KEEPER/ALL_PLAYERS])
  apWriteAt: 0
  doc: Once an Action Point has been triggered, it cannot be triggered again unless it has been reset by this command.
  opts: 1

- cmd: NEXT_COMMAND_REUSABLE()
  reuses: true
  doc: |
    Once any action command has been triggered once, it cannot be triggered again. This means that you cannot create loops or generators that add heroes to the level each time one of your creatures steps foot in a room. To get around this, the Dungeon Keeper script has a special command called NEXT_COMMAND_REUSABLE.
    
    You will need to place this in front of every command in the loop to make it work (it does not need to be placed in front of IF commands)

- cmd: SET_GENERATE_SPEED([time:TIME],[keeper:KEEPER/ALL_PLAYERS])
  doc: This command tells the game how long to wait before generating a new creature for each player. The type of creatures that appear cannot be scripted and will depend on the rooms the player has built. It will apply to all Portals on the map.
  opts: 1

- cmd: COMPUTER_PLAYER([keeper:KEEPER],[behavior:COMPUTER])
  doc: If you have placed down an enemy dungeon heart (not a hero dungeon heart), this command tells Dungeon Keeper that a computer player needs to be assigned.

- cmd: START_MONEY([player:PLAYER/ALL_PLAYERS],[gold:GOLD])
  rootLvl: ENFORCE
  doc: Sets how much gold a player has at the start of the level.

- cmd: MAX_CREATURES([player:PLAYER/ALL_PLAYERS],[max amount:NUMBER+])
  doc: The maximum number of creatures a player can have. The player can still gain creatures through Scavenging and Torturing but no more will come through the portal until the number of creatures drops below the maximum again.

- cmd: ALLY_PLAYERS([player A:KEEPER],[player B:KEEPER],[alliance type:ALLIANCE_TYPE])
  doc: Sets up an alliance between two players.

- cmd: ADD_CREATURE_TO_POOL([creature type:CREATURE],[amount:NUMBER])
  doc: Sets the number of creatures that are placed in this pool.

- cmd: CREATURE_AVAILABLE([player:PLAYER/ALL_PLAYERS],[creature type:CREATURE],[can be available:BINARY],[amount forced:NUMBER+])
  doc: Tells the game that a specific creature can come through that player's portal.

- cmd: ROOM_AVAILABLE([player:PLAYER/ALL_PLAYERS],[room:ROOM],[can be available:ROOM_AVAILABILITY],[is available:BINARY])
  doc: Tells the game that a specific room is available for the player to place down.

- cmd: DOOR_AVAILABLE([player:PLAYER/ALL_PLAYERS],[door:DOOR],[can be available:BINARY],[number available:NUMBER+])
  doc: This command tells the game that a specific door is available for the player to construct.

- cmd: TRAP_AVAILABLE([player:PLAYER/ALL_PLAYERS],[trap:TRAP],[can be available:BINARY],[number available:NUMBER+])
  doc: This command tells the game that a specific trap is available for the player to construct.

- cmd: MAGIC_AVAILABLE([player:PLAYER/ALL_PLAYERS],[power:POWER],[can be available:BINARY],[is available:BINARY])
  doc: This command tells the game that a specific spell is available for the player to cast.

- cmd: DEAD_CREATURES_RETURN_TO_POOL([return:BOOLEAN])
  doc: Normally, when a creature dies, and its body vanishes, it is added to the creature pool again. This command allows you to ensure that all dead creatures are dead forever.

- cmd: SET_CREATURE_MAX_LEVEL([player:PLAYER/ALL_PLAYERS],[creature type:CREATURE/ANY_CREATURE],[creature level:1-10/ZERO])
  doc: This command sets the maximum experience level the creature can train to. You can use this to stop certain creatures from becoming too powerful.

- cmd: SET_CREATURE_STRENGTH([creature:CREATURE],[strength:BYTE])
  doc: This command sets the strength of all the creatures of that type on the level. Each creature has a default strength which can be found in the creature.txt file, e.g. the BILE_DEMON has a strength level of 80.

- cmd: SET_CREATURE_HEALTH([creature:CREATURE],[health:NUMBER+])
  doc: This command sets the health of all the creatures of that type on the level. Each creature has a default full health level which can be found in the creature.txt file, e.g. the DRAGON has a full health level of 900.

- cmd: SET_CREATURE_ARMOUR([creature:CREATURE],[armour:BYTE])
  doc: This command sets the armour of all the creatures of that type on the level. Each creature has a default armour level which can be found in the creature.txt file, e.g. the Dark Mistress has a armour level of 50.

- cmd: SET_CREATURE_FEAR([creature:CREATURE],[fear:BYTE])
  doc: This command sets the fear of all the creatures of that type on the level. Each creature has a default fear which can be found in the creature.txt file, e.g. the FLY has a fear level of 30.

- cmd: RESEARCH([player:PLAYER/ALL_PLAYERS],[research type:RESEARCH_TYPE],[room or power:ROOM/POWER],[research value:NUMBER+])
  signChanges: [
    IF 1 EQ ROOM SET 2 ROOM,
    IF 1 EQ MAGIC SET 2 POWER
  ]
  doc: Adjusts the research value for individual rooms or spells and even for a specific player.
  rootLvl: ENFORCE

- cmd: ADD_CREATURE_TO_LEVEL([owner player:PLAYER],[creature:CREATURE],[spawn location:LOCATION],[creatures amount:NUMBER+],[levels:1-10],[gold carried:GOLD],[spawn type:SPAWN_TYPE])
  doc: This command will add a number of new creatures to the level at the co-ordinates of a specifies Action Point. You cannot set where the creatures head for so you may need to use a party instead.
  opts: 1

- cmd: ADD_TUNNELLER_TO_LEVEL([owner player:PLAYER],[spawn location:LOCATION],[head for:HEAD_FOR],[target:BYTE],[tunneler level:1-10],[gold carried:GOLD])
  signChanges: [
    IF 2 EQ ACTION_POINT SET 3 ACTION_POINT/HERO_GATE,
    IF 2 EQ DUNGEON SET 3 KEEPER_INDEX,
    IF 2 EQ DUNGEON_HEART SET 3 KEEPER_INDEX,
    IF 2 EQ APPROPIATE_DUNGEON SET 3 NUMBER,
    IF 2 EQ APPROPRIATE_DUNGEON SET 3 NUMBER
  ]
  doc: This commands adds a number of Tunneller Dwarves to the level. They will immediately start digging towards their target. Tunneller Dwarves are the only creatures that can tunnel towards a target.

- cmd: CREATE_PARTY([unique party name:NEW_PARTY])
  rootLvl: ENFORCE
  doc: This command tells the game to expect a party with a specific name.

- cmd: ADD_TO_PARTY([party:PARTY],[creature:CREATURE],[level:1-10],[gold carried:GOLD],[objective:OBJECTIVE],[delay:NUMBER_MIN_NEGATIVE_400])
  partyAddAt: 0
  doc: This command adds a number of creatures to a party.

- cmd: ADD_TUNNELLER_PARTY_TO_LEVEL([owner player:PLAYER],[party:PARTY],[spawn location:LOCATION],[head for:HEAD_FOR],[target:ACTION_POINT/HERO_GATE/BYTE],[tunneler level:1-10],[gold carried:GOLD])
  signChanges: [
    IF 3 EQ ACTION_POINT SET 4 ACTION_POINT/HERO_GATE,
    IF 3 EQ DUNGEON SET 4 KEEPER_INDEX,
    IF 3 EQ DUNGEON_HEART SET 4 KEEPER_INDEX,
    IF 3 EQ APPROPIATE_DUNGEON SET 4 NUMBER,
    IF 3 EQ APPROPRIATE_DUNGEON SET 4 NUMBER
  ]
  partyReadAt: 1
  doc: This adds a specified party of creatures to the level with a Tunneller Dwarf as it's leader. The Tunneller will immediately dig to it's target and the other creatures will follow.

- cmd: ADD_PARTY_TO_LEVEL([owner player:PLAYER],[party:PARTY],[spawn location:LOCATION],[party copies:NUMBER+])
  partyReadAt: 1
  doc: Adds a party to the level.

- cmd: DISPLAY_OBJECTIVE([message number:NUMBER+],[zoom target:LOCATION/ALL_PLAYERS])
  doc: Displays one of the text messages stored in TEXT.DAT file (if used in Dungeon Keeper) or DD1TEXT.DAT (if used in Deeper Dungeons) in an Objective Box. This file comes in various language version, so messages from it are always in the language selected during installation of Dungeon Keeper.
  opts: 1

- cmd: DISPLAY_OBJECTIVE_WITH_POS([message number:NUMBER+],[zoom X coordinate:SUBTILE],[zoom Y coordinate:SUBTILE])
  doc: Displays one of the text messages stored in TEXT.DAT file (if used in Dungeon Keeper) or DD1TEXT.DAT (if used in Deeper Dungeons) in an Objective Box. Allows to enter map coordinates of an area which is shown when the eye icon is clicked on the message.

- cmd: DISPLAY_INFORMATION([message number:NUMBER+],[zoom target:LOCATION/ALL_PLAYERS])
  opts: 1
  doc: Creates a text box with Information Pop-up Icon. Works identical (except of the icon) as DISPLAY_OBJECTIVE.

- cmd: DISPLAY_INFORMATION_WITH_POS([message number:NUMBER+],[zoom X coordinate:SUBTILE],[zoom Y coordinate:SUBTILE])
  doc: Creates a text box with Information Pop-up Icon. Works identical (except of the icon) as DISPLAY_OBJECTIVE_WITH_POS.

- cmd: QUICK_OBJECTIVE([message number:MSG_NUMBER],[message:TEXT],[zoom target:LOCATION/ALL_PLAYERS])
  opts: 1
  doc: Works like DISPLAY_OBJECTIVE, but instead of using a string from translations, allows to type it directly.

- cmd: QUICK_INFORMATION([message number:MSG_NUMBER],[message:TEXT],[zoom target:LOCATION/ALL_PLAYERS])
  opts: 1
  doc: Works like DISPLAY_INFORMATION, but instead of using a string from translations, allows to type it directly.

- cmd: TUTORIAL_FLASH_BUTTON([button:BUTTON],[time:NUMBER])
  doc: Flashes a button on the toolbar. Use '-1' for time to flash the area until player selects it.

- cmd: BONUS_LEVEL_TIME([countdown:TIME],[use clocktime:BOOLEAN])
  opts: 1
  doc: Sets the time a player has to complete an objective. A timer appears in the top right corner of the screen. The value shown on timer is amount of game turns left divided by 2. This command does not create the counter, it only sets the bonus level time shown on it.

- cmd: SET_MUSIC([track:NUMBER/TEXT])
  doc: Chooses the music track to play.

- cmd: SET_COMPUTER_PROCESS([player:PLAYER/ALL_PLAYERS],[process:COMP_PROCESS],[priority:UNKNOWN],[data1:UNKNOWN],[data2:UNKNOWN],[data3:UNKNOWN],[data4:UNKNOWN])
  opts: 4
  doc: |
    Changes conditions and parameters for one of the computer processes. A process is started if the computer player realizes that any action is needed. Some of the processes have more than one version, and specific one is selected by checking variables inside the processes.
    
    [player] - The computer player’s name, e.g. PLAYER1. See Players section for more information.

    ["process name"] - Text name of the process which is being changed. See fxdata\keepcompp.cfg for more information.

    [priority] - Priority of the process. This parameter controls which process to choose if more than one process has met the conditions to be conducted.

    [data1],[data2],[data3],[data4] - These parameters can have different meaning for different values of ["process name"].

- cmd: SET_COMPUTER_CHECKS([player:PLAYER/ALL_PLAYERS],[check:COMP_CHECK],[period:TIME],[data1:UNKNOWN],[data2:UNKNOWN],[data3:UNKNOWN],[data4:UNKNOWN])
  opts: 4
  doc: |
    If no important event is occuring, the computer player searches for things that need to be done using checks. Checks are similar to IF commands which allows computer player to undertake a process under some circumstances determined by values of variables.
    
    [player] - The computer player's name, e.g. PLAYER1. See Players section for more information.

    ["checks name"] - Text name of the check which is being altered. See fxdata\keepcompp.cfg. for more information.

    [check every] - Number of turns before repeating the test.

    [data1],[data2],[data3],[data4] - These parameters can have different meaning for different values of ["checks name"].

- cmd: SET_COMPUTER_EVENT([player:PLAYER/ALL_PLAYERS],[event:COMP_EVENT],[value3:UNKNOWN],[param1:UNKNOWN],[param2:UNKNOWN],[param3:UNKNOWN],[param4:UNKNOWN])
  opts: 5
  doc: |
    Event is a sudden situation that needs a process to be undertaken. Unlike checks, events are triggered by often complicated logic conditions. Both checks and events are used to test if a process should be started.

    [player] - The computer player’s name, e.g. PLAYER1.

    ["event name"] - Text name of the event which is being altered. See fxdata\keepcompp.cfg for more information.

    [value3] - Updates the third number listed at Values. (test_interval)

    [param#] - Updates the four numbers listed at Params. The first 3 have different meanings for different event types, the 4th one is the gameturn the event has last been used.

- cmd: SET_COMPUTER_GLOBALS([players:PLAYER/ALL_PLAYERS],[dig stack size:NUMBER],[processes time:NUMBER],[click rate:NUMBER],[max room build tasks:NUMBER],[turn begin:NUMBER],[sim before dig:NUMBER],[min drop delay:NUMBER])
  opts: 1
  doc: |
    Allows the player to configure the behavior of an AI for specific criteria.

    [player] - The computer player’s name, e.g. PLAYER1. See Players section for more information.

    [dig stack size] - how much digging a computer starts, as a percentage of the current dungeon area

    [processes time] - game turns between performing processes

    [click rate] - game turns between actions: each room tile placed, each dirt highlighted, each unit dropped

    [max room build tasks] - how many rooms can be built at once

    [turn begin] - game turns until AI initializes

    [sim before dig] - simulate outcome before starting action

    [min drop delay] - when the click rate is faster, take this as a minimum delay between dropping units

- cmd: LEVEL_VERSION([version:VERSION])
  rootLvl: ENFORCE
  doc: |
    Lets the game know if the level was designed specially for KeeperFX. To use new script commands, you must start the script with LEVEL_VERSION(1).
    
    Without it, the new commands will not work properly, and the game will try to emulate old behavior of commands which were modified.

- cmd: DRAWFROM([AUTO],[AUTO],[AUTO],[AUTO],[AUTO],[AUTO],[AUTO],[AUTO])
  opts: 7
  returns: AUTO
  doc: |
    Is not a command itself but may replace a parameter of most other commands. Replaces the old RANDOM() command. It draws at random one value or number from up to eight parameters.

    Value represented by DRAWFROM is selected at start of a map, and never changes during the gameplay.

- cmd: IMPORT([player:PLAYER/ALL_PLAYERS],[campaign flag:CAMPAIGN_FLAG])
  returns: NUMBER/NUMBER+/BYTE/GOLD/BINARY/TIME/ACTION_POINT/HERO_GATE/POWER_LVL/SLAB/SUBTILE/LVL/ROOM_AVAILABILITY/1-10/BOOLEAN

- cmd: DISPLAY_TIMER([player:PLAYER/ALL_PLAYERS],[timer:TIMER],[use clocktime:BOOLEAN])
  timerReadAt: [1]
  doc: Displays a script timer on screen.

- cmd: ADD_GOLD_TO_PLAYER([player:PLAYER/ALL_PLAYERS],[gold:NUMBER])
  doc: Allows to add some off-map gold as a reward to a player.

- cmd: ADD_TO_CAMPAIGN_FLAG([player:PLAYER/ALL_PLAYERS],[campaign flag:CAMPAIGN_FLAG],[amount added:NUMBER])
  doc: Adds a numeric value to the current campaign_flag value. Function has been completely absorbed by ADD_TO_FLAG command which accepts all Flag types, including campaign flags.

- cmd: ADD_TO_FLAG([player:PLAYER/ALL_PLAYERS],[flag:FLAG/CAMPAIGN_FLAG/CUSTOM_BOX],[amount added:NUMBER])
  flagWriteAt: [1]
  doc: Adds a numeric value to the current flag value.

- cmd: CHANGE_CREATURE_OWNER([creature owner:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[new owner:PLAYER])
  doc: Changes the owner of given creature based on given criterion.

- cmd: CHANGE_SLAB_OWNER([slab X coordinate:SLAB],[slab Y coordinate:SLAB],[new owner:PLAYER],[fill type:FILL_TYPE])
  doc: Changes the owner of a slab on the map to specified player. If it's part of a room, the entire room changes owner. Will change PATH to PRETTY_PATH.
  opts: 1

- cmd: CHANGE_SLAB_TYPE([slab X coordinate:SLAB],[slab Y coordinate:SLAB],[new slab:SLAB_TYPE],[fill type:FILL_TYPE])
  doc: Changes a slab on the map to the specified new one. It will not change an entire room, just a single slab.
  opts: 1

- cmd: DISPLAY_COUNTDOWN([player:PLAYER/ALL_PLAYERS],[timer:TIMER],[target time:NUMBER],[use clocktime:BOOLEAN])
  opts: 1
  doc: Displays on screen how long a specific script timer reaches the target turn.

- cmd: DISPLAY_VARIABLE([player:PLAYER/ALL_PLAYERS],[variable:READABLE_VAR],[show difference target:NUMBER],[target type:DISPLAY_VAR_TARGET_TYPE])
  opts: 2
  doc: Displays a script variable on screen.
  flagReadAt: [1]

- cmd: EXPORT_VARIABLE([player:PLAYER/ALL_PLAYERS],[variable:READABLE_VAR],[campaign flag:CAMPAIGN_FLAG])
  flagReadAt: [1]
  doc: Exports a variable to a campaign flag to use in a future campaign level. To be used together with the IMPORT command.

- cmd: IF_CONTROLS([player:PLAYER/ALL_PLAYERS],[left B:CREATURE/CREATURE_GLOBAL][operator:COMPARE_OPERATOR][right A:NUMBER/PLAYER/ALL_PLAYERS],[right B:CREATURE/CREATURE_GLOBAL])
  opts: 1
  signChanges: [
    IF 3 IS NUMBER SET 4 VOID,
    IF 3 IS PLAYER SET 4 REQUIRED
  ]
  condition: PUSH
  doc: Allows to execute commands based on the items a player controls. Returns how many creatures of given kind the player owns, excluding these under enemy control (in custody). Also accepts TOTAL_CREATURES, TOTAL_DIGGERS, EVIL_CREATURES and GOOD_CREATURES.

- cmd: IF_SLAB_OWNER([slab X coordinate:SLAB],[slab Y coordinate:SLAB],[check owner:PLAYER])
  condition: PUSH
  doc: Checks if a specific slab on the map belongs to specified player.

- cmd: IF_SLAB_TYPE([slab X coordinate:SLAB],[slab Y coordinate:SLAB],[slab type:SLAB_TYPE])
  condition: PUSH
  doc: Checks if a specific slab is of a specific type.

- cmd: KILL_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[amount:NUMBER+])
  doc: Kills given amount of creatures based on given criterion.

- cmd: LEVEL_UP_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[levels:1-10/NUMBER])
  doc: Levels up given creature based on given criterion. Use negative values to level a creature down.

- cmd: PLAY_MESSAGE([player:KEEPER],[audio type:AUDIO_TYPE],[sound ID:TEXT/NUMBER+])
  doc: Plays a sound message or sound effect. To hear which sounds are available use the DKSound utility from the DKtools pack.

- cmd: RESEARCH_ORDER([player:PLAYER/ALL_PLAYERS],[research type:RESEARCH_TYPE],[room or spell:ROOM/POWER],[research value:NUMBER+])
  doc: When this command is first called, the research list for specified players is cleared. Using it you may create a research list from beginning. Note that if you won't place an item on the list, it will not be possible to research it. So if you're using this command, you must add all items available on the level to the research list.

- cmd: REVEAL_MAP_LOCATION([player:PLAYER/ALL_PLAYERS],[target location:LOCATION],[range:SUBTILE/NUMBER])
  doc: Reveals square area of subtiles around given location. Use -1 for range to reveal the entire reachable area.

- cmd: REVEAL_MAP_RECT([player:PLAYER/ALL_PLAYERS],[subtile X coord:SUBTILE],[subtile Y coord:SUBTILE],[reveal width:SUBTILE],[reveal height:SUBTILE])
  doc: Reveals rectangular map area for given player.

- cmd: RUN_AFTER_VICTORY([run:BOOLEAN])
  rootLvl: ENFORCE
  doc: Lets the game know the script should continue to run after the game is won. Normally everything stops as soon as the a player wins the map, but include RUN_AFTER_VICTORY(1) in the script to have the game continue normally until the player presses the space bar. Useful if you want to give a player the chance to complete an optional objective you want to bring over to a next campaign level with SET_CAMPAIGN_FLAG or EXPORT_VARIABLE.

- cmd: SET_CREATURE_FEAR_STRONGER([creature:CREATURE],[fear percentage:NUMBER])
  doc: Allows to define how many times stronger the enemy has to be for our creature to escape from combat. The value is in %.

- cmd: SET_CREATURE_FEAR_WOUNDED([creature:CREATURE],[health percentage:BYTE])
  doc: Replacement for SET_CREATURE_FEAR. The value taken by this function is a percentage (0..100) and defines health drop required for the creature to escape from combat. A special value of 101 makes creature avoid any combat other than with one creature of the same kind.

- cmd: SET_CREATURE_FEARSOME_FACTOR([creature:CREATURE],[fearsome factor:NUMBER+])
  doc: Modifies this value from the creature config for a creature type. It determines how much more or less intimidating a unit is compared to what you would expect from looking at his Strength and Health values. Creatures with lots of spells tend to have a value above 100. Use this command when you've modified a unit type in the level script and need a fear response to match.

- cmd: SET_CREATURE_PROPERTY([creature:CREATURE],[property:CREATURE_PROPERTY],[enabled:BOOLEAN])
  doc: Allows to enable/disable a creature property.

- cmd: SET_GAME_RULE([rule name:GAME_RULE],[value:NUMBER])
  doc: Allows you to make changes to door values set in rules.cfg. You can make them conditional with IF statements.
  signChanges: [
    IF 0 EQ DisplayPortalLimit SET 1 BINARY,
    IF 0 EQ LightEnabled SET 1 BINARY,
    IF 0 EQ PreserveClassicBugs SET 1 CLASSIC_BUG/NUMBER_COMPOUND/TEXT
  ]

- cmd: ADD_BONUS_TIME([turns:NUMBER])
  doc: Add or remove turns to the Bonus Level timer. Allows negative values.

- cmd: ADD_HEART_HEALTH([player:PLAYER/ALL_PLAYERS],[health:NUMBER],[mentor warn:BOOLEAN])
  doc: Restores or drains health from a players Dungeon Heart. Can't exceed the standard max health value. Full heart has 30000 hitpoints.
  opts: 1

- cmd: ADD_OBJECT_TO_LEVEL([object:OBJECT],[location:LOCATION],[property:NUMBER],[owner player:PLAYER],[orientation:ORIENTATION])
  doc: Place any object at a specific place on the map.
  opts: 2

- cmd: ADD_TO_TIMER([player:PLAYER/ALL_PLAYERS],[timer:TIMER],[turns:NUMBER])
  doc: Add or remove turns to the Script timer. Allows negative values.

- cmd: CHANGE_CREATURES_ANNOYANCE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[operation:OPERATION],[annoyance:NUMBER+])
  doc: Can set, increase or decrease the happiness level of units.

- cmd: COMPUTE_FLAG([set player:PLAYER/ALL_PLAYERS],[set flag:SETTABLE_VAR],[operation:OPERATION],[src player:PLAYER/ALL_PLAYERS],[src flag:READABLE_VAR],[alt:BOOLEAN])
  flagWriteAt: [1]
  flagReadAt: [4]
  timerWriteAt: [1]
  timerReadAt: [4]
  opts: 1
  doc: |
    Modifies flag's value based on variables or other flags and values.

    where:

    [set player] - The player's name, e.g. PLAYER1.

    [set flag] - The flag's name to which you'll set the value.

    [operation] - Can be SET, INCREASE, DECREASE, MULTIPLY. SET replaces original value, the other three modify it.

    [src player] - The arg/source player's name, e.g. PLAYER1.

    [src var] - Source variable which will be set/added/etc to [flag]

    [alt] - If set to 1, creature flags will be interpreted as in IF_CONTROLS and rooms/doors/traps as in IF_AVAILABLE. Set it to 0 and it takes the value as IF uses it.

- cmd: COMPUTER_DIG_TO_LOCATION([player:PLAYER/ALL_PLAYERS],[origin:LOCATION],[destination:LOCATION])
  doc: Makes a computer player dig somewhere.

- cmd: CONCEAL_MAP_RECT([player:PLAYER/ALL_PLAYERS],[subtile X coord:SUBTILE],[subtile Y coord:SUBTILE],[width:SUBTILE],[height:SUBTILE],[hide revealed:BINARY/ALL])
  opts: 1
  doc: Conceals part of the map with fog of war, opposite to REVEAL_MAP_RECT

- cmd: CREATE_EFFECT([effect:NUMBER/EFFECT],[location:LOCATION])
  doc: Create an Effect at a location. Can be any effect or effect element that is in game, like the hearts that appear when healing, or the red smoke when claiming a room.

- cmd: CREATE_EFFECT_AT_POS([effect:NUMBER/EFFECT],[subtile X coord:SUBTILE],[subtile Y coord:SUBTILE],[height:NUMBER])
  opts: 1
  doc: Create an Effect at a subtile. Can be any effect or effect element that is in game, like the hearts that appear when healing, or the red smoke when claiming a room.

- cmd: CREATE_EFFECTS_LINE([origin:LOCATION],[destination:LOCATION],[curvature:NUMBER],[distance:BYTE],[speed:BYTE],[effect:NUMBER/EFFECT])
  doc: |
    Spawns an effect multiple times, forming a line.

    Where:
    
    [origin] - The origin location, where the first effect spawns. E.g. PLAYER1 or 1 to go from an action point.

    [destination] - The location where the line is drawn towards.

    [curvature] - 0 to go in a straight line, with bigger values to get a bigger curve. At 64 if you go from the the central top slab to the central bottom slab of a square room, it will go clockwise through the outer right slab. Use negative values to go counter-clockwise.

    [distance] - How far apart the effects forming the line are. Where 24 spawns effects a single slab apart

    [speed] - The delay between effects. With 80 being a second apart, and 0 is them all spawning at the same time. Max value is 127.

    [effect] - The effect to spawn. Can be any effect or effect element that is in game, like the hearts that appear when healing, or the red smoke when claiming a room.



- cmd: CREATURE_ENTRANCE_LEVEL([player:PLAYER/ALL_PLAYERS],[level:1-10])
  doc: Sets the level at which units come from the portal.

- cmd: DELETE_FROM_PARTY([party:PARTY],[creature:CREATURE],[level:1-10])
  partyDeleteAt: 0
  doc: Removes a unit from a defined party. Use it before the party is added to the level. When two equal units are in the party, the one that was first added will be deleted.

- cmd: DISPLAY_MESSAGE([message number:NUMBER],[icon:PLAYER/ALL_PLAYERS/CREATURE/SPELL/CREATURE_SPELL/ROOM/POWER/ICON])
  doc: Displays one of the text messages from language-specific strings banks as a chat message, with a specific unit or player shown as the sender. It disappears automatically after some time.

- cmd: HEART_LOST_OBJECTIVE([message number:NUMBER],[zoom location:LOCATION/ALL_PLAYERS])
  doc: Displays an Objective message when the player lost his Dungeon Heart. Works like DISPLAY_OBJECTIVE.

- cmd: HEART_LOST_QUICK_OBJECTIVE([message number:MSG_NUMBER],[message:TEXT],[zoom location:LOCATION/ALL_PLAYERS])
  doc: Displays an Objective message when the player lost his Dungeon Heart. Works like QUICK_OBJECTIVE.

- cmd: HIDE_TIMER()
  doc: Hides the timer that has been made visible with DISPLAY_TIMER
  rootLvl: FORBID

- cmd: HIDE_VARIABLE()
  doc: Hides the variable that has been made visible with DISPLAY_VARIABLE
  rootLvl: FORBID

- cmd: QUICK_MESSAGE([message number:MSG_NUMBER],[message:TEXT],[icon:PLAYER/ALL_PLAYERS/CREATURE/SPELL/CREATURE_SPELL/ROOM/POWER/ICON])
  doc: Works like DISPLAY_MESSAGE, but instead of using a string from translations, allows to type it directly.

- cmd: RANDOMISE_FLAG([player:PLAYER/ALL_PLAYERS],[flag:FLAG/CAMPAIGN_FLAG/CUSTOM_BOX],[max value:NUMBER])
  flagWriteAt: [1]
  opts: 1
  doc: Gives a flag a true random value. Can be used to get truly random level scripts. If final value is not given or set to 0, it uses the current value as the max.

- cmd: REMOVE_SACRIFICE_RECIPE([CREATURE],[CREATURE],[CREATURE],[CREATURE],[CREATURE])  
  opts: 4
  doc: Removes a Temple recipe.

- cmd: SET_HEART_HEALTH([player:PLAYER/ALL_PLAYERS],[health:NUMBER+])
  doc: Set the Dungeon Heart health to a specific value for a player. Must be below the max health of the player.

- cmd: SET_SACRIFICE_RECIPE([command:SACRIFICE_CMD],[reward:CREATURE/FLAG/UNKNOWN],[CREATURE],[CREATURE],[CREATURE],[CREATURE],[CREATURE])
  opts: 4
  doc: |
    Creates or modifies a Temple recipe.

    Where:

    [command] - The possible commands as listed in the sacrifices section in rules.cfg. Additionally, CUSTOMREWARD and CUSTOMPUNISH may be used. These play the respective sounds, and may increase the flag as configured for the reward parameter.

    [reward] - The Creature, Spell or Unique function that is triggered when the Sacrifice completes, as seen in rules.cfg. Use FLAG0-FLAG7 to indicate which flag is raised when a player completes the sacrifice.

    [creature1] to [creature5] are creature names, like HORNY. Only the first one is mandatory.

- cmd: SET_BOX_TOOLTIP([box number:BYTE],[tooltip:TEXT])
  doc: Creates a custom tooltip for Custom special boxes.

- cmd: SET_BOX_TOOLTIP_ID([box number:BYTE],[message number:NUMBER])
  doc: Sets a Tooltip on a custom special box, with a text from the language files.

- cmd: SET_CREATURE_CONFIGURATION([creature:CREATURE],[property:CREATURE_CONFIG],[value:NUMBER/UNKNOWN],[second value:NUMBER/UNKNOWN],[third value:NUMBER/UNKNOWN])
  doc: Allows you to make changes to attribute values set in the unit configuration files.
  opts: 2
  signChanges: [
    IF 1 EQ PrimaryJobs SET 2 JOB,
    IF 1 EQ PrimaryJobs SET 3 BINARY,
    IF 1 EQ SecondaryJobs SET 2 JOB,
    IF 1 EQ SecondaryJobs SET 3 BINARY,
    IF 1 EQ NotDoJobs SET 2 JOB,
    IF 1 EQ NotDoJobs SET 3 BINARY,
    IF 1 EQ StressfulJobs SET 2 JOB,
    IF 1 EQ StressfulJobs SET 3 BINARY,
    IF 1 EQ AttackPreference SET 2 UNKNOWN,
    IF 1 EQ AttackPreference SET 3 BINARY,
    IF 1 EQ Properties SET 2 UNKNOWN/CREATURE_PROPERTY,
    IF 1 EQ Properties SET 3 BINARY,
    IF 1 EQ EntranceRoom SET 2 ROOM,
    IF 1 EQ EntranceRoom SET 3 ROOM,
    IF 1 EQ EntranceRoom SET 4 ROOM,
    IF 1 EQ LevelsTrainValues SET 2 1-10,
    IF 1 EQ LevelsTrainValues SET 3 NUMBER,
    IF 1 EQ PowersLevelRequired SET 2 1-10,
    IF 1 EQ PowersLevelRequired SET 3 NUMBER,
    IF 1 EQ Powers SET 2 1-10,
    IF 1 EQ Powers SET 3 CREATURE_SPELL,
    IF 1 EQ SpellImmunity SET 2 SPELL_FLAG/NUMBER_COMPOUND,
    IF 1 EQ SpellImmunity SET 3 BINARY
  ]

- cmd: SET_DOOR_CONFIGURATION([door name:DOOR],[property:DOOR_CONFIG],[value:NUMBER],[second value:VOID])
  opts: 1
  signChanges: [
    IF 1 EQ Name SET 2 UNKNOWN,
    IF 1 EQ Crate SET 2 OBJECT,
    IF 1 EQ SymbolSprites SET 3 NUMBER,
    IF 1 EQ SlabKind SET 2 SLAB_TYPE,
    IF 1 EQ SlabKind SET 3 SLAB_TYPE,
    IF 1 EQ Properties SET 2 DOOR_PROPERTY/NUMBER_COMPOUND,
    IF 1 EQ Properties SET 3 BINARY
  ]
  doc: |
    Allows you to make changes to door values set in trapdoor.cfg.
    [doorname] - The name of the door as defined in trapdoor.cfg

    [property] - The name of the door property you want to change, as found in trapdoor.cfg. E.g. ManufactureRequired.

    [value] - The new value you want to set it to. If you want to set the 'Crate' property, you can use both the number or the name from objects.cfg. If you want to set the value of the property named 'Properties', use a number you get by adding up their values.

    [second value]* - The SymbolSprites property has 2 values to set. For other properties, do not add this parameter.


- cmd: SET_OBJECT_CONFIGURATION([object name:OBJECT],[property:OBJECT_CONFIG],[value:NUMBER],[second value:VOID])
  doc: |
    Allows you to make changes to object values set in objects.cfg.

    [objectname] - The name of the object as defined in objects.cfg .

    [property] - The name of the object property you want to change, as found in objects.cfg. E.g. DestroyOnLava.

    [value] - The new value you want to set it to. If you want to set the value of the property named 'Properties', use a number you get by adding up these values:

    [second value] - Some properties have 2 or more values to set. For other properties, do not add this parameter.
  opts: 1
  signChanges: [
    IF 1 EQ Genre SET 2 OBJECT_GENRE,
    IF 1 EQ EffectBeam SET 2 EFFECT/NUMBER,
    IF 1 EQ EffectParticle SET 2 EFFECT/NUMBER,
    IF 1 EQ EffectExplosion1 SET 2 EFFECT/NUMBER,
    IF 1 EQ EffectExplosion2 SET 2 EFFECT/NUMBER,
    IF 1 EQ EffectSound SET 3 NUMBER,
    IF 1 EQ Properties SET 2 OBJECT_PROPERTY/NUMBER_COMPOUND/TEXT,
    IF 1 EQ Properties SET 3 BINARY,
    IF 1 EQ UpdateFunction SET 2 UPDATE_FUNCTION,
    IF 1 EQ AnimationID SET 2 NUMBER/UNKNOWN
  ]

- cmd: SET_TRAP_CONFIGURATION([trap name:TRAP],[property:TRAP_CONFIG],[value:UNKNOWN],[value2:UNKNOWN],[value3:UNKNOWN],[value4:UNKNOWN])
  opts: 3
  signChanges: [
    IF 1 EQ TriggerType SET 2 TRAP_TRIGGER_TYPE,
    IF 1 EQ ActivationType SET 2 TRAP_ACTIVATION_TYPE,
    IF 1 EQ ActivationLevel SET 2 1-10,
    IF 1 EQ Hidden SET 2 BINARY,
    IF 1 EQ Slappable SET 2 NUMBER,
    IF 1 EQ TriggerAlarm SET 2 BINARY,
    IF 1 EQ Unanimated SET 2 BINARY,
    IF 1 EQ Crate SET 2 OBJECT,
    IF 1 EQ DestroyedEffect SET 2 NUMBER/EFFECT,
    IF 1 EQ FlagNumber SET 2 BYTE
  ]
  doc: Allows you to make changes to trap values set in trapdoor.cfg.

- cmd: USE_POWER([player:PLAYER/ALL_PLAYERS],[power:POWER],[free:PAID_OR_FREE/BOOLEAN])
  doc: Casts an untargeted keeper power through the level script.

- cmd: USE_POWER_AT_LOCATION([player:PLAYER/ALL_PLAYERS],[location:LOCATION],[power:POWER],[power lvl:POWER_LVL],[free:PAID_OR_FREE/BOOLEAN])
  doc: Casts a keeper power at specific map location through the level script.

- cmd: USE_POWER_AT_POS([player:PLAYER/ALL_PLAYERS],[subtile X coord:SUBTILE],[subtile Y coord:SUBTILE],[power:POWER],[power lvl:POWER_LVL],[free:PAID_OR_FREE/BOOLEAN])
  doc: Casts a keeper power somewhere at the map through the level script.

- cmd: USE_POWER_ON_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[caster player:PLAYER],[power:POWER],[power lvl:POWER_LVL],[free:PAID_OR_FREE/BOOLEAN])
  doc: Casts a keeper power on a specific creature. It also accepts non-targeted powers like POWER_SIGHT, which will simply use the location of the unit.

- cmd: USE_SPECIAL_INCREASE_LEVEL([player:PLAYER/ALL_PLAYERS],[count:NUMBER])
  doc: Activates the effect of an 'Increase Level' dungeon special.

- cmd: USE_SPECIAL_MULTIPLY_CREATURES([player:PLAYER/ALL_PLAYERS],[count:BYTE])
  doc: Activates the effect of an 'Multiply Creatures' dungeon special.

- cmd: USE_SPECIAL_MAKE_SAFE([player:PLAYER/ALL_PLAYERS])
  doc: |
    *Command replaced by MAKE_SAFE*
    
    Activates the effect of an 'Make Safe' dungeon special.
  deprecated: true

- cmd: USE_SPECIAL_LOCATE_HIDDEN_WORLD()
  doc: |
    *Command replaced by LOCATE_HIDDEN_WORLD*
    
    Activates the effect of an 'Locate Hidden World' dungeon special.
  deprecated: true

- cmd: USE_SPELL_ON_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[spell:SPELL],[spell lvl:1-10/ZERO])
  doc: Casts a unit spell on a specific creature. Only abilities with actual spell effects can be used.
  opts: 1

- cmd: SACRIFICED[[creature:CREATURE]]
  returns: GLOBAL/FLAG/READSET_VAR/READABLE_VAR/SETTABLE_VAR
  doc: Returns how many creatures of the type were sacrificed.

- cmd: REWARDED[[creature:CREATURE]]
  returns: GLOBAL/FLAG/READSET_VAR/READABLE_VAR/SETTABLE_VAR
  doc: Returns how many units of the type the player has received from the temple.

- cmd: AT_ACTION_POINT[[ACTION_POINT]]
  returns: CRITERION
  doc: Returns any creature at action point.

- cmd: SET_CREATURE_TENDENCIES([player:KEEPER/ALL_PLAYERS],[tendency:CREATURE_TENDENCY],[enable:BOOLEAN])
  doc: Allows to set flee/imprison tendencies.

- cmd: SET_DOOR([state:LOCK_STATE],[slab X coordinate:SLAB],[slab Y coordinate:SLAB])
  doc: Allows you to lock or unlock a door on a particular slab.

- cmd: SET_CREATURE_INSTANCE([creature:CREATURE],[spell slot:1-10],[creature spell:CREATURE_SPELL],[spell lvl:1-10])
  doc: Allows you to change which spell instances creatures learn at which levels.

- cmd: USE_SPECIAL_TRANSFER_CREATURE([player:PLAYER/ALL_PLAYERS])
  doc: Activates the effect of an 'Transfer Creature' dungeon special.

- cmd: TRANSFER_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[count:NUMBER+])
  doc: Transfers creatures as dungeon special would.

- cmd: SWAP_CREATURE([creature:CREATURE],[creature:CREATURE])
  doc: Replaces the creature with a new creature.

- cmd: SET_HAND_RULE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[rule slot:RULE_SLOT],[rule action:RULE_ACTION],[rule:RULE],[param:VOID])
  signChanges: [
    IF 4 EQ AGE_LOWER SET 5 NUMBER,
    IF 4 EQ AGE_HIGHER SET 5 NUMBER,
    IF 4 EQ LEVEL_LOWER SET 5 1-10,
    IF 4 EQ LEVEL_HIGHER SET 5 1-10,
    IF 4 EQ AT_ACTION_POINT SET 5 ACTION_POINT,
    IF 4 EQ AFFECTED_BY SET 5 SPELL,
    IF 4 EQ DROPPED_TIME_LOWER SET 5 NUMBER+,
    IF 4 EQ DROPPED_TIME_HIGHER SET 5 NUMBER+,
    IF 3 EQ ENABLE SET 4 VOID,
    IF 3 EQ DISABLE SET 4 VOID,
    IF 4 EQ AGE_LOWER SET 5 REQUIRED,
    IF 4 EQ AGE_HIGHER SET 5 REQUIRED,
    IF 4 EQ LEVEL_LOWER SET 5 REQUIRED,
    IF 4 EQ LEVEL_HIGHER SET 5 REQUIRED,
    IF 4 EQ AT_ACTION_POINT SET 5 REQUIRED,
    IF 4 EQ AFFECTED_BY SET 5 REQUIRED,
    IF 4 EQ DROPPED_TIME_LOWER SET 5 REQUIRED,
    IF 4 EQ DROPPED_TIME_HIGHER SET 5 REQUIRED,
    IF 3 EQ ALLOW SET 4 REQUIRED,
    IF 3 EQ DENY SET 4 REQUIRED,
    IF 3 EQ ENABLE SET 4 VOID,
    IF 3 EQ DISABLE SET 4 VOID,
  ]
  opts: 2
  doc: |
    Makes some creatures (un)pickable or only (un)pickable under certain conditions:

    [player] - The player's name, e.g. PLAYER1.

    [creature] - The creature name, e.g. BILE_DEMON. Includes ANY_CREATURE.

    [rule_slot] - Rule slot a rule will be assigned to. There are 8 available slots per player's creature type: RULE0, RULE1, ..., RULE7

    [rule_action] - ALLOW or DENY. Whether creatures that match the rule should be allowed/denied from being picked up. If you just want to disable or re-enable rule already stored in a slot, use DISABLE or ENABLE and leave the last two params (rule, param) empty.

    [rule*] - rule condition. Only specify if rule_action is ALLOW/DENY.

    [param*] - rule parameter. See rules' docs for usage info. Leave blank if rule does not use any param.

    Rule checks are evaluated from the highest rule index (RULE7) to lowest (RULE0) and lower rules are ignored once a match is found.

- cmd: MOVE_CREATURE([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[criterion:CRITERION],[count:NUMBER+],[destination:LOCATION],[effect:NUMBER/EFFECT])
  opts: 1
  doc: Moves creatures instantly to the specified destination.

- cmd: COUNT_CREATURES_AT_ACTION_POINT([action point:ACTION_POINT],[player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[write flag player:PLAYER],[write flag:SETTABLE_VAR])
  flagWriteAt: [4]
  doc: Counts creatures within action point and stores the value in flag.
  rootLvl: FORBID

- cmd: IF_ALLIED([player:PLAYER],[target player:PLAYER][operator:COMPARE_OPERATOR][allied:BINARY])
  condition: PUSH
  doc: Checks if a player is allied to another player, or tries to be. Note that if the Red player clicks the Ally-button of Blue, comparing PLAYER0 to PLAYER1 already evaluates as true, even when blue has not done the same yet. Comparing PLAYER1 to PLAYER0 would still be false. For multiplayer games, check both sides.

- cmd: SET_TEXTURE([player:PLAYER/ALL_PLAYERS],[texture:TEXTURE/NUMBER])
  doc: Changes the texturepack together with the ownership of a tile

- cmd: HIDE_HERO_GATE([gate:HERO_GATE/NUMBER+],[is hidden:BOOLEAN])
  doc: Hides or reveals hero gates. Heroes will not use hidden gates.

- cmd: USE_SPELL_ON_PLAYERS_CREATURES([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[spell:SPELL],[spell lvl:1-10/ZERO])
  doc: Casts a unit spell on all of a players creatures of a type.
  opts: 1

- cmd: SET_ROOM_CONFIGURATION([room name:ROOM_ALL],[property:ROOM_CONFIG],[value:NUMBER],[second value:VOID],[third value:VOID])
  doc: |
    Allows you to make changes to room values set in terrain.cfg. Look in that file for explanations on the values.
    [roomname] - The name of the room as defined in terrain.cfg

    [property] - The name of the room property you want to change, as found in terrain.cfg. E.g. CreatureCreation.

    [value] - The new value you want to set it to. If you want to set roles, you can use numbers instead of names too.

    [second value]* - Some properties have 2 or more values to set. For other properties, do not add this parameter.

    [third value]* - Some properties have 3 values to set. For other properties, do not add this parameter.

    Use it to tweak rooms on a per map basis. To set Properties with numbers, add up the numbers of the properties you want to enable. To set Roles with numbers, add up the numbers of the roles you want to enable.
  signChanges: [
    IF 1 EQ NameTextID SET 2 NUMBER,
    IF 1 EQ TooltipTextID SET 2 NUMBER,
    IF 1 EQ Cost SET 2 NUMBER,
    IF 1 EQ Health SET 2 NUMBER,
    IF 1 EQ Messages SET 2 NUMBER,
    IF 1 EQ Messages SET 3 NUMBER,
    IF 1 EQ Messages SET 4 NUMBER,
    IF 1 EQ AmbientSndSample SET 2 NUMBER,
    IF 1 EQ SymbolSprites SET 2 NUMBER,
    IF 1 EQ SymbolSprites SET 3 NUMBER,
    IF 1 EQ PointerSprites SET 2 NUMBER,
    IF 1 EQ PanelTabIndex SET 2 NUMBER,
    IF 1 EQ Properties SET 2 ROOM_PROPERTY/NUMBER_COMPOUND/TEXT,
    IF 1 EQ Properties SET 3 BINARY,
    IF 1 EQ Roles SET 2 NUMBER/ROOM_ROLE,
    IF 1 EQ CreatureCreation SET 2 CREATURE,
    IF 1 EQ SlabAssign SET 2 SLAB_TYPE,
    IF 1 EQ UsedCapacity SET 2 ROOM_CONFIG_USED_CAPACITY,
    IF 1 EQ TotalCapacity SET 2 ROOM_CONFIG_TOTAL_CAPACITY
  ]
  opts: 2

- cmd: NEW_TRAP_TYPE([trap name:UNKNOWN])
  doc: Increases the trapcount by 1, by adding a trap with [trap name]. Done so before loading the rest of the script, configure the rest of the trap with SET_TRAP_CONFIGURATION.
  tempTrapAt: 0
  rootLvl: ENFORCE

- cmd: NEW_OBJECT_TYPE([object name:UNKNOWN])
  doc: Adds a new object type to the end of the list with this name. Use SET_OBJECT_CONFIGURATION to further configure the new object type.
  tempObjectAt: 0
  rootLvl: ENFORCE

- cmd: NEW_ROOM_TYPE([room name:UNKNOWN])
  doc: Adds a new room type to the end of the list with this name. Use SET_ROOM_CONFIGURATION to further configure the new room type.
  tempRoomAt: 0
  rootLvl: ENFORCE

- cmd: NEW_CREATURE_TYPE([creature name:UNKNOWN])
  doc: Adds a new creature type to the creature list, and loads the related config for it. So a creature that is not yet in creatures.cfg. Will load creature name.cfg from the (campaign) creatures folder.
  tempCreatureAt: 0
  rootLvl: ENFORCE

- cmd: SET_HAND_GRAPHIC([player:KEEPER],[hand graphic:UNKNOWN])
  doc: |
    Changes the sprite of the power hand to a different one.
    Where:
    [player] - The name of the player who gets the different graphic, e.g. PLAYER1.

    [hand] - The name of the hand, as defined in powerhands.toml.

- cmd: ADD_EFFECT_GENERATOR_TO_LEVEL([effect generator:NUMBER/EFFECT_GENERATOR],[location:LOCATION],[range:NUMBER])
  doc: |
    Place any Effect Generator at a specific place on the map.
    Where:

    [effect generator] - The effect generator name from effects.toml.

    [location] - The location you want the generator to spawn.

    [range] - The range within which the generator will spawn effects.

- cmd: SET_POWER_CONFIGURATION([power:POWER],[property:POWER_CONFIG],[value 1:UNKNOWN],[value 2/slot/toggle:UNKNOWN])
  doc: |
    Makes changes to keeper powers, as originally set in magic.cfg.
    Where:
    [power] - Power model to be modified.

    [property] - The name of the power property you want to change, as found in magic.cfg. E.g. 'Castability'.

    [value] - The new value you want to set it to. It accepts the values as used in the config files. For 'Properties' and 'Castability' put the value between "quotation marks" if you want to set multiple values at once.

    [value 2/slot/toggle]*

    If there are two values to the property, use this value.
    For Power and Cost, there are 9 slots to edit. Enter a value between 1~9 here.
    For Properties and Castability, leave this empty to set [value] as the only value, set to 0 to remove the value from the list of values, set to 1 to add it to the list of values.
  opts: 1
  signChanges: [
    IF 1 EQ Power SET 2 NUMBER+,
    IF 1 EQ Cost SET 2 NUMBER+,
    IF 1 EQ Power SET 3 POWER_LVL,
    IF 1 EQ Cost SET 3 POWER_LVL,
    IF 1 EQ Power SET 3 REQUIRED,
    IF 1 EQ Cost SET 3 REQUIRED,
    IF 1 EQ Castability SET 2 TEXT,
    IF 1 EQ Artifact SET 2 OBJECT,
    IF 1 EQ ParentPower SET 2 POWER
  ]

- cmd: SET_EFFECT_GENERATOR_CONFIGURATION([generator:EFFECT_GENERATOR],[property:EFFECT_GENERATOR_PROPERTY],[value:UNKNOWN],[second value:VOID],[third value:VOID])
  opts: 2
  doc: |
    Allows you to make changes to effect generator values set in effects.toml.
    Where:
    [generator] - The name of the effect generator as defined in effects.toml.

    [property] - The name of the trap property you want to change, as found in effects.toml. E.g. SpawnHeight.

    [value] - The new value you want to set it to. If you want to set the 'EffectModel' property, negative numbers are effect elements, positive effects. It accepts names too.

    [second value]* - Some properties have 2 or more values to set. For other properties, do not add this parameter.

    [third value]* - Some properties have 3 values to set. For other properties, do not add this parameter.

    Use it to effect generators on a per map basis, changed within IF-statements.
  signChanges: [
    IF 1 EQ GenerationDelayMin SET 2 NUMBER+,
    IF 1 EQ GenerationDelayMax SET 2 NUMBER+,
    IF 1 EQ GenerationAmount SET 2 NUMBER+,
    IF 1 EQ EffectModel SET 2 NUMBER/EFFECT,
    IF 1 EQ IgnoreTerrain SET 2 BINARY,
    IF 1 EQ SpawnHeight SET 2 NUMBER+,
    IF 1 EQ AccelerationMin SET 2 NUMBER+,
    IF 1 EQ AccelerationMin SET 3 REQUIRED,
    IF 1 EQ AccelerationMin SET 4 REQUIRED,
    IF 1 EQ AccelerationMin SET 3 NUMBER,
    IF 1 EQ AccelerationMin SET 4 NUMBER,
    IF 1 EQ AccelerationMax SET 2 NUMBER+,
    IF 1 EQ AccelerationMax SET 3 REQUIRED,
    IF 1 EQ AccelerationMax SET 4 REQUIRED,
    IF 1 EQ AccelerationMax SET 3 NUMBER,
    IF 1 EQ AccelerationMax SET 4 NUMBER,
    IF 1 EQ Sound SET 2 NUMBER+,
    IF 1 EQ Sound SET 3 REQUIRED,
    IF 1 EQ Sound SET 3 NUMBER
  ]

- cmd: SET_PLAYER_COLOR([player:KEEPER],[color:PLAYER_COLOR])
  doc: |
    Does a color swap for a player.
    Where:
    [player] - The name of the player who gets the different color, e.g. PLAYER1.

    [color] - The color it will become. Accepts: 'RED, BLUE, YELLOW, GREEN, WHITE'

    Note: The change is only visual, and swapping PLAYER0 to Blue without Swapping PLAYER1 to another color will have 2 indistinguishable players.

- cmd: MAKE_UNSAFE([player:KEEPER/ALL_PLAYERS])
  doc: Removes all the fortifications of the Dungeon Wall of target player.

- cmd: MAKE_SAFE([player:PLAYER/ALL_PLAYERS])
  doc: Has the same effect as a 'Make Safe' dungeon special for the player.

- cmd: LOCATE_HIDDEN_WORLD()
  doc: Activates the effect of an 'Locate Hidden World' dungeon special.

- cmd: LEVEL_UP_PLAYERS_CREATURES([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[count:NUMBER])
  doc: |
    Levels up all creatures of a specific kind for the player.

    Where:

    [player] - The name of the player who gets leveled up creatures.

    [creature] - Creature model that will level up.

    [count] - The amount of times the creature levels up. Accepts negative values to level down.

- cmd: SET_INCREASE_ON_EXPERIENCE([increase config property:INCREASE_CONFIG],[value:NUMBER])
  doc: Allows to specify certain property values that increase for every experience level.

- cmd: SET_PLAYER_MODIFIER([player:KEEPER/ALL_PLAYERS],[modifier:PLAYER_MODIFIER],[value:NUMBER])
  doc: Assigns various modifiers to specific players. Allows for multiple possibilities, such as giving a handicap to a specific player, creating upgrades that solely benefits one player.

- cmd: ADD_TO_PLAYER_MODIFIER([player:KEEPER/ALL_PLAYERS],[modifier:PLAYER_MODIFIER],[value:NUMBER])
  doc: Allows you to increase or decrease the current value of choosen modifier for a specific player.

- cmd: USE_POWER_ON_PLAYERS_CREATURES([player:PLAYER/ALL_PLAYERS],[creature:CREATURE/ANY_CREATURE],[caster player:PLAYER],[power:POWER],[power lvl:POWER_LVL],[free:PAID_OR_FREE/BINARY])
  doc: Casts a keeper power on all creatures of a specific type. It also accepts non-targeted powers which will simply use the location of the units.

- cmd: COMBAT[[player:KEEPER]]
  opts: 1
  returns: LOCATION
  doc: Location of the last battle

- cmd: CTA[[player:KEEPER]]
  opts: 1
  returns: LOCATION
  doc: Location of active Call to Arms spell

- cmd: LAST_DEATH_EVENT[[player:KEEPER]]
  returns: LOCATION
  doc: The most recent location a creature with the EVENTFUL_DEATH property of the player died.

- cmd: LAST_TRAP_EVENT[[player:KEEPER]]
  returns: LOCATION
  doc: The most recent location where a trap with a FlagNumber (above zero) was triggered.

- cmd: CHANGE_SLAB_TEXTURE([slab X coordinate:SLAB],[slab Y coordinate:SLAB],[texture:TEXTURE],[fill type:FILL_TYPE])
  opts: 1
  doc: Changes the texture (style) of a slab on the map to the specified one.

- cmd: ZOOM_TO_LOCATION([player:KEEPER],[location:LOCATION])
  doc: Moves the camera of a player to a specific location like an action point.

- cmd: ADD_OBJECT_TO_LEVEL_AT_POS([object:OBJECT],[X coordinate:SUBTILE],[Y coordinate:SUBTILE],[property:NUMBER],[owner player:PLAYER],[orientation:ORIENTATION])
  doc: Place any object at a subtile.
  opts: 2

- cmd: KEEPERS_DESTROYED[[player:KEEPER]]
  doc: Counts destroyed hearts of the player.
  returns: GLOBAL/FLAG/READSET_VAR/READABLE_VAR/SETTABLE_VAR
  opts: 1

- cmd: PLACE_DOOR([player:PLAYER/ALL_PLAYERS],[door:DOOR],[slab X coordinate:SLAB],[slab Y coordinate:SLAB],[lock state:LOCK_STATE],[free:PAID_OR_FREE/BOOLEAN])
  doc: Places a door through the script. It needs to be placed on a valid location. When using ALL_PLAYERS, it will place a door that matches the owner of the slab. Using another player will fail if the slab owner is different from the desired door owner.

- cmd: PLACE_TRAP([player:PLAYER/ALL_PLAYERS],[trap:TRAP],[subtile X coord:SUBTILE],[subtile Y coord:SUBTILE],[free:PAID_OR_FREE/BOOLEAN])
  doc: Places a trap through the script. It needs to be placed on a valid location. When using ALL_PLAYERS, it will place a trap that matches the owner of the slab. Using another player will fail if the slab owner is different from the desired trap owner.

- cmd: LOCK_POSSESSION([player:PLAYER],[locked state:BOOLEAN])
  doc: Makes a player unable to exit possession mode. Does not start possession.

- cmd: SET_DIGGER([player:KEEPER/ALL_PLAYERS],[creature:CREATURE])
  doc: Determines which digger creature takes the top spot in the creature menu.

- cmd: RUN_LUA_CODE([function:TEXT])
  doc: Calls a lua function from a lua file.

- cmd: TAG_MAP_RECT([player:KEEPER/ALL_PLAYERS],[slab X coordinate:SLAB],[slab Y coordinate:SLAB],[width:SLAB],[height:SLAB])
  doc: Tags a rectangular map area to be dug out by imps for given player. It's immediate and works for human players too.
  opts: 2

- cmd: UNTAG_MAP_RECT([player:KEEPER/ALL_PLAYERS],[slab X coordinate:SLAB],[slab Y coordinate:SLAB],[width:SLAB],[height:SLAB])
  doc: Untags a rectangular map area to be dug out by imps for given player. It's immediate and works for human players too.
  opts: 2

- cmd: SET_NEXT_LEVEL([level number:NUMBER])
  doc: On a campaign level, sets which level will come after this one. Works forwards and backwards all the same. Level number is any number as found on SINGLE_LEVELS in the currect campaign config.

- cmd: SHOW_BONUS_LEVEL([level number:NUMBER])
  doc: On a campaign level, makes a bonus level available on the landview. Level number is any number as found on BONUS_LEVELS in the currect campaign config.

- cmd: HIDE_BONUS_LEVEL([level number:NUMBER])
  doc: On a campaign level, makes a bonus level unavailable on the landview. Level number is any number as found on BONUS_LEVELS in the currect campaign config.
